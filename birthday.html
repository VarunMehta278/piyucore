<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Birthday ðŸ’œ</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  height: 100vh;
  background: radial-gradient(circle at center, #f3e8ff, #c084fc);
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* floating glow */
.glow {
  position: absolute;
  width: 500px;
  height: 500px;
  background: radial-gradient(circle, rgba(255,255,255,0.6), transparent);
  filter: blur(120px);
  animation: move 10s infinite alternate;
}

@keyframes move {
  from { transform: translate(-150px,-100px); }
  to { transform: translate(150px,100px); }
}

.container {
  text-align: center;
  z-index: 2;
}

/* cake */
.cake {
  position: relative;
  width: 260px;
  height: 160px;
  margin: auto;
  background: linear-gradient(120deg,#f9a8d4,#c084fc);
  border-radius: 20px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.2);
  overflow: hidden;
}

/* top cream */
.cake::before {
  content: "";
  position: absolute;
  width: 100%;
  height: 30px;
  background: #fff;
  top: 0;
  border-radius: 20px;
}

/* candle */
.candle {
  position: absolute;
  width: 14px;
  height: 50px;
  background: white;
  top: -50px;
  left: 50%;
  transform: translateX(-50%);
  border-radius: 4px;
}

/* flame */
.flame {
  width: 14px;
  height: 18px;
  background: radial-gradient(circle, yellow, orange);
  border-radius: 50%;
  position: absolute;
  top: -18px;
  animation: flicker 0.4s infinite alternate;
}

@keyframes flicker {
  from { transform: scale(1); }
  to { transform: scale(1.2); }
}

/* button */
button {
  margin-top: 30px;
  padding: 14px 30px;
  border: none;
  border-radius: 40px;
  background: linear-gradient(45deg,#a78bfa,#f472b6);
  color: white;
  font-size: 18px;
  cursor: pointer;
  box-shadow: 0 10px 30px rgba(167,139,250,0.5);
  transition: 0.3s;
}

button:hover {
  transform: scale(1.08);
}

/* message */
.message {
  font-size: 42px;
  color: #4c1d95;
  margin-top: 30px;
  opacity: 0;
  transition: 1s;
}

/* confetti */
.confetti {
  position: fixed;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  animation: fall linear infinite;
}

@keyframes fall {
  to { transform: translateY(120vh); }
}

/* sparkle */
.sparkle {
  position: fixed;
  font-size: 18px;
  animation: float 6s linear infinite;
}

@keyframes float {
  to { transform: translateY(-120vh); opacity: 0; }
}

  .message {
  letter-spacing: 2px;
  font-weight: 500;
}
</style>
</head>

<body>

<div class="glow"></div>

<div class="container">

  <h2>Make a Wish ðŸ’œ</h2>

  <div class="cake" id="cake">
    <div class="candle">
      <div class="flame" id="flame"></div>
    </div>
  </div>

  <button onclick="blow()">Blow</button>

  <div class="message" id="msg"></div>

</div>

<audio id="bdayMusic" src="birthday.mp3"></audio>

<script>
let isBlown = false;   // prevent multiple clicks
let typing;           // store interval

function blow(){

  if(isBlown) return;  // stop double execution
  isBlown = true;

  /* candle off */
  document.getElementById("flame").style.display="none";

  /* cake cut */
  let cake=document.getElementById("cake");
  cake.style.transition="1s";
  cake.style.transform="rotateY(180deg)";

  /* confetti */
  for(let i=0;i<180;i++){
    let c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.background=`hsl(${Math.random()*360},100%,70%)`;
    c.style.animationDuration=(2+Math.random()*3)+"s";
    document.body.appendChild(c);
  }

  /* sparkles */
  for(let i=0;i<30;i++){
    let s=document.createElement("div");
    s.className="sparkle";
    s.innerHTML="âœ¨";
    s.style.left=Math.random()*100+"vw";
    s.style.bottom="-10px";
    document.body.appendChild(s);
  }

  /* message typing FIX */
  let text="Happy Birthday Priyanshi ðŸ’œ";
  let msg=document.getElementById("msg");

  msg.innerHTML="";        // ðŸ”¥ reset message
  msg.style.opacity="1";

  let i=0;

  clearInterval(typing);   // ðŸ”¥ stop old interval if any

  typing=setInterval(()=>{
    if(i < text.length){
      msg.innerHTML += text[i];
      i++;
    } else {
      clearInterval(typing);
    }
  },80);

  /* music */
  document.getElementById("bdayMusic").play();
}
</script>
</body>
</html>
